{"ast":null,"code":"import React from 'react';\nimport { useContextStylesApi } from '@mantine/styles';\nimport { closeOnEscape } from '@mantine/utils';\nimport { useFocusReturn } from '@mantine/hooks';\nimport { usePopoverContext } from '../Popover.context.js';\nimport useStyles from './PopoverDropdown.styles.js';\nimport { OptionalPortal } from '../../Portal/OptionalPortal.js';\nimport { Transition } from '../../Transition/Transition.js';\nimport { FocusTrap } from '../../FocusTrap/FocusTrap.js';\nimport { Box } from '../../Box/Box.js';\nimport { FloatingArrow } from '../../Floating/FloatingArrow/FloatingArrow.js';\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nvar __objRest = (source, exclude) => {\n  var target = {};\n\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\n\nfunction PopoverDropdown(_a) {\n  var _b = _a,\n      {\n    style,\n    className,\n    children\n  } = _b,\n      others = __objRest(_b, [\"style\", \"className\", \"children\"]);\n\n  const {\n    classNames,\n    styles,\n    unstyled,\n    staticSelector\n  } = useContextStylesApi();\n  const ctx = usePopoverContext();\n  const {\n    classes,\n    cx\n  } = useStyles({\n    radius: ctx.radius,\n    shadow: ctx.shadow\n  }, {\n    name: staticSelector,\n    classNames,\n    styles,\n    unstyled\n  });\n  const returnFocus = useFocusReturn({\n    opened: ctx.opened,\n    shouldReturnFocus: false\n  });\n  const accessibleProps = ctx.withRoles ? {\n    \"aria-labelledby\": ctx.getTargetId(),\n    id: ctx.getDropdownId(),\n    role: \"dialog\"\n  } : {};\n  return /* @__PURE__ */React.createElement(OptionalPortal, {\n    withinPortal: ctx.withinPortal\n  }, /* @__PURE__ */React.createElement(Transition, {\n    mounted: ctx.opened,\n    transition: ctx.transition,\n    duration: ctx.transitionDuration,\n    exitDuration: typeof ctx.exitTransitionDuration === \"number\" ? ctx.exitTransitionDuration : ctx.transitionDuration\n  }, transitionStyles => {\n    var _a2, _b2;\n\n    return /* @__PURE__ */React.createElement(FocusTrap, {\n      active: ctx.trapFocus\n    }, /* @__PURE__ */React.createElement(Box, __spreadValues(__spreadProps(__spreadValues({}, accessibleProps), {\n      tabIndex: -1,\n      ref: ctx.floating,\n      style: __spreadProps(__spreadValues(__spreadValues({}, style), transitionStyles), {\n        zIndex: ctx.zIndex,\n        top: (_a2 = ctx.y) != null ? _a2 : \"\",\n        left: (_b2 = ctx.x) != null ? _b2 : \"\",\n        width: ctx.width === \"target\" ? void 0 : ctx.width\n      }),\n      className: cx(classes.dropdown, className),\n      onKeyDownCapture: closeOnEscape(ctx.onClose, {\n        active: ctx.closeOnEscape,\n        onTrigger: returnFocus\n      }),\n      \"data-position\": ctx.placement\n    }), others), children, /* @__PURE__ */React.createElement(FloatingArrow, {\n      visible: ctx.withArrow,\n      withBorder: true,\n      position: ctx.placement,\n      arrowSize: ctx.arrowSize,\n      arrowOffset: ctx.arrowOffset,\n      className: classes.arrow\n    })));\n  }));\n}\n\nPopoverDropdown.displayName = \"@mantine/core/PopoverDropdown\";\nexport { PopoverDropdown };","map":{"version":3,"sources":["../../../src/Popover/PopoverDropdown/PopoverDropdown.tsx"],"names":[],"mappings":";;;;;;;;;;;AAAA,IAAI,SAAS,GAAG,MAAM,CAAC,cAAvB;AACA,IAAI,UAAU,GAAG,MAAM,CAAC,gBAAxB;AACA,IAAI,iBAAiB,GAAG,MAAM,CAAC,yBAA/B;AACA,IAAI,mBAAmB,GAAG,MAAM,CAAC,qBAAjC;AACA,IAAI,YAAY,GAAG,MAAM,CAAC,SAAP,CAAiB,cAApC;AACA,IAAI,YAAY,GAAG,MAAM,CAAC,SAAP,CAAiB,oBAApC;;AACA,IAAI,eAAe,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,KAAX,KAAqB,GAAG,IAAI,GAAP,GAAa,SAAS,CAAC,GAAD,EAAM,GAAN,EAAW;AAAE,EAAA,UAAU,EAAE,IAAd;AAAoB,EAAA,YAAY,EAAE,IAAlC;AAAwC,EAAA,QAAQ,EAAE,IAAlD;AAAwD,EAAA;AAAxD,CAAX,CAAtB,GAAoG,GAAG,CAAC,GAAD,CAAH,GAAW,KAA1J;;AACA,IAAI,cAAc,GAAG,CAAC,CAAD,EAAI,CAAJ,KAAU;AAC7B,OAAK,IAAI,IAAT,IAAiB,CAAC,KAAK,CAAC,GAAG,EAAT,CAAlB,EACE,IAAI,YAAY,CAAC,IAAb,CAAkB,CAAlB,EAAqB,IAArB,CAAJ,EACE,eAAe,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAC,CAAC,IAAD,CAAX,CAAf;;AACJ,MAAI,mBAAJ,EACE,KAAK,IAAI,IAAT,IAAiB,mBAAmB,CAAC,CAAD,CAApC,EAAyC;AACvC,QAAI,YAAY,CAAC,IAAb,CAAkB,CAAlB,EAAqB,IAArB,CAAJ,EACE,eAAe,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAC,CAAC,IAAD,CAAX,CAAf;AACH;AACH,SAAO,CAAP;AACD,CAVD;;AAWA,IAAI,aAAa,GAAG,CAAC,CAAD,EAAI,CAAJ,KAAU,UAAU,CAAC,CAAD,EAAI,iBAAiB,CAAC,CAAD,CAArB,CAAxC;;AACA,IAAI,SAAS,GAAG,CAAC,MAAD,EAAS,OAAT,KAAqB;AACnC,MAAI,MAAM,GAAG,EAAb;;AACA,OAAK,IAAI,IAAT,IAAiB,MAAjB,EACE,IAAI,YAAY,CAAC,IAAb,CAAkB,MAAlB,EAA0B,IAA1B,KAAmC,OAAO,CAAC,OAAR,CAAgB,IAAhB,IAAwB,CAA/D,EACE,MAAM,CAAC,IAAD,CAAN,GAAe,MAAM,CAAC,IAAD,CAArB;;AACJ,MAAI,MAAM,IAAI,IAAV,IAAkB,mBAAtB,EACE,KAAK,IAAI,IAAT,IAAiB,mBAAmB,CAAC,MAAD,CAApC,EAA8C;AAC5C,QAAI,OAAO,CAAC,OAAR,CAAgB,IAAhB,IAAwB,CAAxB,IAA6B,YAAY,CAAC,IAAb,CAAkB,MAAlB,EAA0B,IAA1B,CAAjC,EACE,MAAM,CAAC,IAAD,CAAN,GAAe,MAAM,CAAC,IAAD,CAArB;AACH;AACH,SAAO,MAAP;AACD,CAXD;;AAuBO,SAAS,eAAT,CAAyB,EAAzB,EAA6B;AAClC,MAAI,EAAE,GAAG,EAAT;AAAA,MAAa;AAAE,IAAA,KAAF;AAAS,IAAA,SAAT;AAAoB,IAAA;AAApB,MAAiC,EAA9C;AAAA,MAAkD,MAAM,GAAG,SAAS,CAAC,EAAD,EAAK,CAAC,OAAD,EAAU,WAAV,EAAuB,UAAvB,CAAL,CAApE;;AACA,QAAM;AAAE,IAAA,UAAF;AAAc,IAAA,MAAd;AAAsB,IAAA,QAAtB;AAAgC,IAAA;AAAhC,MAAmD,mBAAmB,EAA5E;AACA,QAAM,GAAG,GAAG,iBAAiB,EAA7B;AACA,QAAM;AAAE,IAAA,OAAF;AAAW,IAAA;AAAX,MAAkB,SAAS,CAAC;AAAE,IAAA,MAAM,EAAE,GAAG,CAAC,MAAd;AAAsB,IAAA,MAAM,EAAE,GAAG,CAAC;AAAlC,GAAD,EAA6C;AAAE,IAAA,IAAI,EAAE,cAAR;AAAwB,IAAA,UAAxB;AAAoC,IAAA,MAApC;AAA4C,IAAA;AAA5C,GAA7C,CAAjC;AACA,QAAM,WAAW,GAAG,cAAc,CAAC;AACjC,IAAA,MAAM,EAAE,GAAG,CAAC,MADqB;AAEjC,IAAA,iBAAiB,EAAE;AAFc,GAAD,CAAlC;AAIA,QAAM,eAAe,GAAG,GAAG,CAAC,SAAJ,GAAgB;AACtC,uBAAmB,GAAG,CAAC,WAAJ,EADmB;AAEtC,IAAA,EAAE,EAAE,GAAG,CAAC,aAAJ,EAFkC;AAGtC,IAAA,IAAI,EAAE;AAHgC,GAAhB,GAIpB,EAJJ;AAKA,SAAA,eAAuB,KAAK,CAAC,aAAN,CAAoB,cAApB,EAAoC;AACzD,IAAA,YAAY,EAAE,GAAG,CAAC;AADuC,GAApC,EAEtB,eAAkB,KAAK,CAAC,aAAN,CAAoB,UAApB,EAAgC;AACjD,IAAA,OAAO,EAAE,GAAG,CAAC,MADoC;AAEjD,IAAA,UAAU,EAAE,GAAG,CAAC,UAFiC;AAGjD,IAAA,QAAQ,EAAE,GAAG,CAAC,kBAHmC;AAIjD,IAAA,YAAY,EAAE,OAAO,GAAG,CAAC,sBAAX,KAAsC,QAAtC,GAAiD,GAAG,CAAC,sBAArD,GAA8E,GAAG,CAAC;AAJ/C,GAAhC,EAKf,gBAAD,IAAsB;AACvB,QAAI,GAAJ,EAAS,GAAT;;AACA,WAAA,eAAuB,KAAK,CAAC,aAAN,CAAoB,SAApB,EAA+B;AACpD,MAAA,MAAM,EAAE,GAAG,CAAC;AADwC,KAA/B,EAEtB,eAAkB,KAAK,CAAC,aAAN,CAAoB,GAApB,EAAyB,cAAc,CAAC,aAAa,CAAC,cAAc,CAAC,EAAD,EAAK,eAAL,CAAf,EAAsC;AAC5G,MAAA,QAAQ,EAAE,CAAC,CADiG;AAE5G,MAAA,GAAG,EAAE,GAAG,CAAC,QAFmG;AAG5G,MAAA,KAAK,EAAE,aAAa,CAAC,cAAc,CAAC,cAAc,CAAC,EAAD,EAAK,KAAL,CAAf,EAA4B,gBAA5B,CAAf,EAA8D;AAChF,QAAA,MAAM,EAAE,GAAG,CAAC,MADoE;AAEhF,QAAA,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,CAAX,KAAiB,IAAjB,GAAwB,GAAxB,GAA8B,EAF6C;AAGhF,QAAA,IAAI,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,CAAX,KAAiB,IAAjB,GAAwB,GAAxB,GAA8B,EAH4C;AAIhF,QAAA,KAAK,EAAE,GAAG,CAAC,KAAJ,KAAc,QAAd,GAAyB,KAAK,CAA9B,GAAkC,GAAG,CAAC;AAJmC,OAA9D,CAHwF;AAS5G,MAAA,SAAS,EAAE,EAAE,CAAC,OAAO,CAAC,QAAT,EAAmB,SAAnB,CAT+F;AAU5G,MAAA,gBAAgB,EAAE,aAAa,CAAC,GAAG,CAAC,OAAL,EAAc;AAC3C,QAAA,MAAM,EAAE,GAAG,CAAC,aAD+B;AAE3C,QAAA,SAAS,EAAE;AAFgC,OAAd,CAV6E;AAc5G,uBAAiB,GAAG,CAAC;AAduF,KAAtC,CAAd,EAetD,MAfsD,CAAvC,EAeN,QAfM,EAeE,eAAkB,KAAK,CAAC,aAAN,CAAoB,aAApB,EAAmC;AACxE,MAAA,OAAO,EAAE,GAAG,CAAC,SAD2D;AAExE,MAAA,UAAU,EAAE,IAF4D;AAGxE,MAAA,QAAQ,EAAE,GAAG,CAAC,SAH0D;AAIxE,MAAA,SAAS,EAAE,GAAG,CAAC,SAJyD;AAKxE,MAAA,WAAW,EAAE,GAAG,CAAC,WALuD;AAMxE,MAAA,SAAS,EAAE,OAAO,CAAC;AANqD,KAAnC,CAfpB,CAFI,CAAvB;AAyBD,GAhCkB,CAFI,CAAvB;AAmCD;;AACD,eAAe,CAAC,WAAhB,GAA8B,+BAA9B","sourcesContent":["import React from 'react';\nimport { DefaultProps, useContextStylesApi } from '@mantine/styles';\nimport { closeOnEscape } from '@mantine/utils';\nimport { useFocusReturn } from '@mantine/hooks';\nimport { FloatingArrow } from '../../Floating';\nimport { Box } from '../../Box';\nimport { Transition } from '../../Transition';\nimport { FocusTrap } from '../../FocusTrap';\nimport { OptionalPortal } from '../../Portal';\nimport { usePopoverContext } from '../Popover.context';\nimport useStyles from './PopoverDropdown.styles';\n\nexport interface PopoverDropdownProps extends DefaultProps, React.ComponentPropsWithoutRef<'div'> {\n  /** Dropdown content */\n  children?: React.ReactNode;\n}\n\nexport function PopoverDropdown({ style, className, children, ...others }: PopoverDropdownProps) {\n  const { classNames, styles, unstyled, staticSelector } = useContextStylesApi();\n  const ctx = usePopoverContext();\n  const { classes, cx } = useStyles(\n    { radius: ctx.radius, shadow: ctx.shadow },\n    { name: staticSelector, classNames, styles, unstyled }\n  );\n\n  const returnFocus = useFocusReturn({\n    opened: ctx.opened,\n    shouldReturnFocus: false,\n  });\n\n  const accessibleProps = ctx.withRoles\n    ? {\n        'aria-labelledby': ctx.getTargetId(),\n        id: ctx.getDropdownId(),\n        role: 'dialog',\n      }\n    : {};\n\n  return (\n    <OptionalPortal withinPortal={ctx.withinPortal}>\n      <Transition\n        mounted={ctx.opened}\n        transition={ctx.transition}\n        duration={ctx.transitionDuration}\n        exitDuration={\n          typeof ctx.exitTransitionDuration === 'number'\n            ? ctx.exitTransitionDuration\n            : ctx.transitionDuration\n        }\n      >\n        {(transitionStyles) => (\n          <FocusTrap active={ctx.trapFocus}>\n            <Box\n              {...accessibleProps}\n              tabIndex={-1}\n              ref={ctx.floating}\n              style={{\n                ...style,\n                ...transitionStyles,\n                zIndex: ctx.zIndex,\n                top: ctx.y ?? '',\n                left: ctx.x ?? '',\n                width: ctx.width === 'target' ? undefined : ctx.width,\n              }}\n              className={cx(classes.dropdown, className)}\n              onKeyDownCapture={closeOnEscape(ctx.onClose, {\n                active: ctx.closeOnEscape,\n                onTrigger: returnFocus,\n              })}\n              data-position={ctx.placement}\n              {...others}\n            >\n              {children}\n\n              <FloatingArrow\n                visible={ctx.withArrow}\n                withBorder\n                position={ctx.placement}\n                arrowSize={ctx.arrowSize}\n                arrowOffset={ctx.arrowOffset}\n                className={classes.arrow}\n              />\n            </Box>\n          </FocusTrap>\n        )}\n      </Transition>\n    </OptionalPortal>\n  );\n}\n\nPopoverDropdown.displayName = '@mantine/core/PopoverDropdown';\n"]},"metadata":{},"sourceType":"module"}